overwrite: true
schema: 'https://pwa.demo.saleor.rocks/graphql/'
documents: 'src/gql/**/*.ts'
hooks:
  afterAllFileWrite:
    - prettier --write
generates:
  # Get schemas from server
  src/gql/autogenerate/schemas.tsx:
    documents: 'src/gql/queries/**/**.ts'
    plugins:
      - typescript
  # Create operations based on queries
  src/gql/autogenerate/operations.tsx:
    documents: 'src/gql/queries/**/**.ts'
    preset: import-types
    presetConfig:
      typesPath: ./schemas
      typesPrefix: I
    plugins:
      - typescript-operations
  # 1. Export GraphQL documents
  # 2. React interface
  src/gql/autogenerate/hooks.tsx:
    documents: 'src/gql/queries/**/**.ts'
    preset: import-types
    presetConfig:
      typesPath: ./operations
    plugins:
      - typescript-react-apollo
    config:
      withHooks: true
      reactApolloVersion: 3
      withRefetchFn: true
  src/gql/autogenerate/page.tsx:
    config:
      documentMode: external
      importDocumentNodeExternallyFrom: ./hooks.tsx
      reactApolloVersion: 3
      withHooks: true
      # withHOC: false
      # excludePatterns: 'getComments'
      # excludePatternsOptions: 'i'
      # customDataIdFromObjectName: 'test'
      # customDataIdFromObjectImport: 'abc'
      apolloClientInstanceImport: '../withApollo'
    preset: import-types
    presetConfig:
      typesPath: ./operations
    plugins:
      - graphql-codegen-apollo-next-ssr
pluckConfig:
  globalGqlIdentifierName:
    - gql
